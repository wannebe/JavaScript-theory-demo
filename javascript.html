<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>JS Theory Medley</title>
</head>
<body>
  <!-- javascript Array迭代 -->
  <script type="text/javascript">
      var arrayTest = ["1", "sed", "der", "vf", "fv"];
      var funTest = function(item, index, array) {
          return item + '2';
      };
      // Array迭代函数之map
      var result = arrayTest.map(funTest);
      // console.log(funTest);
      // console.log(result);
      var test1 =  ["1", "2", "3"].map(parseInt);
      // test1相当于以下三段代码  parseInt接收两个参数（string,radix）
      // parseInt("1",0);//1
      // parseInt("2",1);//NaN
      // parseInt("3",2);//NaN
      // console.log(parseInt);
      // console.log(test1);
      // 数组验证之instanceof && Array.isArray()
      // console.log(test1 instanceof Array);
      // console.log(Array.isArray(test1));
      // console.log(arrayTest.valueOf());

      // 数字类型特殊情况
      // let a;
      // alert(0 / 0);//NaN(Not a Number)
      // alert(0 / a);//NaN 数字除以非数字结果会返回NaN
      // alert(NaN / 10);任何涉及NaN的操作都返回NaN
      // alert(10 / NaN);
      // alert(6 / 0);//infinity
      // alert(-6 / 0);//-infinity
      // console.log(NaN == NaN);//false


      // 测试apply call bind函数改变函数context
      function testCA(){};
      testCA.prototype = {
        color: "red",
        say: function(){
          alert(this.color);
        }
      };
      var apple = new testCA;
      // apple.say();
      var banana = {color: "yellow"};
      // apple.say.apply(banana);//第二个参数是数组对象形式
      // apple.say.call(banana);//第二个参数一个一个传入

      var array1 = [12,"one",{name: "num"}, -123];
      var array2 = ["two",120, 123,[1,1425,465,[12,41254],45]];
      // var arrayOk1 = array1.push(array2);
      // call方法中参数是以单个对象的形式传入的，也就是说会按照一个整体对象处理，并不会深入处理,与直接调用push方法等价
      // var arrayOk1Number = Array.prototype.push.call(array1,array2);
      // apply方法参数是以数组的形式传入的，等于call传入多个对象===call(this,a,b,c)
      var arrayOk2Number = Array.prototype.push.apply(array1,array2);
      // console.log(array2);
      // console.log(arrayOk1);
      // console.log(arrayOk1Number);
      // console.log(arrayOk2Number);
      // console.log(array1);

      var numbers = [5,25,125,158];
      var maxInNumbers = Math.max.apply(Math,numbers); //158
      // var maxInNumbers = Math.max.call(Math,5,25,125,258);//258
      // alert(maxInNumbers);
      // console.log(maxInNumbers);


      var color = ["red","blue","yellow","black","white","purl"];
      var selectForm = function(one,two){
        if(typeof one === 'number'){}else{
          parseInt(one);
        }
        var choices = two - one ;
        return Math.floor(Math.random() * choices + 1);
      };
      (function(){
        var Clength = color.length -1;
        var colorIndex = selectForm('0',Clength);
        // console.log(color[colorIndex]);
      })();
      // test + -
      // console.log(+0 + +0);//+0
      // console.log(+0 - +0);//+0
      // console.log(+0 + -0);//+0
      // console.log(+0 - -0);//-0
      // console.log(-0 + -0);//-0
      // console.log(-0 - -0);//+0
      // console.log(color.toString);
      // console.log(Object.prototype.toString.call(color));

      // console.log(Number.prototype.toString.call(color));
      // console.log(Function.prototype.toString.call(color));
      // console.log(Object.prototype.toString.call(color));
      // console.log(Object.prototype.toString.call(color) === '[object Array]');
      // 验证参数是不是数组
      var testingObj = function(obj){
        return Object.prototype.toString.call(obj) === '[object Array]';
      };
      // 事件流：事件捕获阶段、处于目标阶段、事件冒泡阶段
      // 开发中遇到得一个实际问题在函数中传参数时，如果要传一个参数，但是这个参数又是单个固定参数传的【不能使用一个变量】，那么不能直接使用单引号或者双引号传输，应该转义
      // 单引号使用&apos;、双引号使用&quot;,原因是在事件处理程序中【on】,事件特性的值是javascript，不能使用未经转义的HTML语法字符，但是下面这个例子我还不是太明白为什么？
      // <a href="javascript:void(0);" class="tab_cell" onclick="mapClickList.companyDetailsList(' + companyId + ',&quot;'+ sName + '&quot;)"' +
      // '>View Details</a>
      // substring(start,stop) 不包含stop处的字符，不接受负数，如果stop小于start，会交换参数
      // stringObject.substr(start,length) 以指定长度获取字符串
      // slice(stop,end) 接受负数
  </script>
</body>
</html>
